.. index:: pair: class; sophus::RxSo2Base
.. _doxid-classsophus_1_1_rx_so2_base:

template class sophus::RxSo2Base
================================

.. toctree::
	:hidden:

Overview
~~~~~~~~

:ref:`RxSo2 <doxid-classsophus_1_1_rx_so2>` base type - implements :ref:`RxSo2 <doxid-classsophus_1_1_rx_so2>` class but is storage agnostic. :ref:`More...<details-classsophus_1_1_rx_so2_base>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <rxso2.h>
	
	template <class DerivedT>
	class RxSo2Base {
	public:
		// typedefs
	
		using :target:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>` = typename Eigen::internal::traits<DerivedT>:::ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>` ;
		using :target:`ComplexType<doxid-classsophus_1_1_rx_so2_base_1aae5340fa4345fda366fb3157220c67d9>` = typename Eigen::internal::traits<DerivedT>:::ref:`ComplexType<doxid-classsophus_1_1_rx_so2_base_1aae5340fa4345fda366fb3157220c67d9>` ;
		using :target:`ComplexTemporaryType<doxid-classsophus_1_1_rx_so2_base_1aae84bc282033da4de5a806bda294bd6d>` = Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`, 2, 1, :ref:`kOptions<doxid-classsophus_1_1_rx_so2_base_1adb028572a2a76a2698e75c9f529d042a>`> ;
		using :target:`Transformation<doxid-classsophus_1_1_rx_so2_base_1a2c985331dd833ccfc47e2907ea39d30f>` = Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`, :ref:`kMatrixDim<doxid-classsophus_1_1_rx_so2_base_1a4e292f58368cf88d86f8316dc5e6e41b>`, :ref:`kMatrixDim<doxid-classsophus_1_1_rx_so2_base_1a4e292f58368cf88d86f8316dc5e6e41b>`> ;
		using :target:`Point<doxid-classsophus_1_1_rx_so2_base_1a971da8bda9e317716a6bf42a39fd1ba7>` = Eigen::Vector2<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`> ;
		using :target:`HomogeneousPoint<doxid-classsophus_1_1_rx_so2_base_1aac6fdc3a1e4d26031bb4199939a62100>` = Eigen::Vector3<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`> ;
		using :target:`Line<doxid-classsophus_1_1_rx_so2_base_1aaf518bb4501e1f48b1cb8b3dba16db8e>` = Eigen::ParametrizedLine<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`, 2> ;
		using :target:`Hyperplane<doxid-classsophus_1_1_rx_so2_base_1aa0ae4900530a76921921fc0da1e5f0eb>` = Eigen::Hyperplane<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`, 2> ;
		using :target:`Tangent<doxid-classsophus_1_1_rx_so2_base_1aa07cadd6d7dcc50f3c012c78e5995198>` = Eigen::Vector<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`, :ref:`kDoF<doxid-classsophus_1_1_rx_so2_base_1a8a9a9806146892391e912129afa37d7b>`> ;
		using :target:`Adjoint<doxid-classsophus_1_1_rx_so2_base_1a87337a5d2dbf064e00dc800ea1bad57c>` = Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`, :ref:`kDoF<doxid-classsophus_1_1_rx_so2_base_1a8a9a9806146892391e912129afa37d7b>`, :ref:`kDoF<doxid-classsophus_1_1_rx_so2_base_1a8a9a9806146892391e912129afa37d7b>`> ;
		using :ref:`ReturnScalar<doxid-classsophus_1_1_rx_so2_base_1a6a7a856a5f781d78e6b99e08d112bea5>` = typename Eigen::ScalarBinaryOpTraits<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`, typename OtherDerivedT::Scalar>::ReturnType ;
		using :target:`RxSo2Product<doxid-classsophus_1_1_rx_so2_base_1aa5aeec1c2ef53f1b00235030d14c285d>` = :ref:`RxSo2<doxid-classsophus_1_1_rx_so2>`<:ref:`ReturnScalar<doxid-classsophus_1_1_rx_so2_base_1a6a7a856a5f781d78e6b99e08d112bea5>`<OtherDerivedT>> ;
		using :target:`PointProduct<doxid-classsophus_1_1_rx_so2_base_1a1af7a36f96f58ce243b76524f6ca5399>` = Eigen::Vector2<:ref:`ReturnScalar<doxid-classsophus_1_1_rx_so2_base_1a6a7a856a5f781d78e6b99e08d112bea5>`<PointDerivedT>> ;
		using :target:`HomogeneousPointProduct<doxid-classsophus_1_1_rx_so2_base_1a186d5e6231ba4234d8685e49f0276be0>` = Eigen::Vector3<:ref:`ReturnScalar<doxid-classsophus_1_1_rx_so2_base_1a6a7a856a5f781d78e6b99e08d112bea5>`<HPointDerivedT>> ;

		// fields
	
		static constexpr int :target:`kOptions<doxid-classsophus_1_1_rx_so2_base_1adb028572a2a76a2698e75c9f529d042a>` = Eigen::internal::traits<DerivedT>::kOptions;
		static constexpr int :ref:`kDoF<doxid-classsophus_1_1_rx_so2_base_1a8a9a9806146892391e912129afa37d7b>` = 2;
		static constexpr int :ref:`kNumParameters<doxid-classsophus_1_1_rx_so2_base_1ae7c5315a29ace349b4bf9fe702b67550>` = 2;
		static constexpr int :ref:`kMatrixDim<doxid-classsophus_1_1_rx_so2_base_1a4e292f58368cf88d86f8316dc5e6e41b>` = 2;
		static constexpr int :ref:`kPointDim<doxid-classsophus_1_1_rx_so2_base_1a09f077f1096cdb53830639ee556a3a87>` = 2;

		// methods
	
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Adjoint<doxid-classsophus_1_1_rx_so2_base_1a87337a5d2dbf064e00dc800ea1bad57c>` :ref:`adj<doxid-classsophus_1_1_rx_so2_base_1ae561c3c51cf6cf564acff8f4863e9d21>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>` :ref:`angle<doxid-classsophus_1_1_rx_so2_base_1aac0fb3a2d4cfc9ac18ac9437882f5047>`() const;
	
		template <class NewScalarTypeT>
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`RxSo2<doxid-classsophus_1_1_rx_so2>`<NewScalarTypeT> :ref:`cast<doxid-classsophus_1_1_rx_so2_base_1a032fd811fae3d35491986726d9851f95>`() const;
	
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`* :ref:`data<doxid-classsophus_1_1_rx_so2_base_1a0f87a9c5ccad5438214f718bb0a5dcef>`();
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>` const* :ref:`data<doxid-classsophus_1_1_rx_so2_base_1a5a81720da14b38a6ea016f2d5f050727>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`RxSo2<doxid-classsophus_1_1_rx_so2>`<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`> :ref:`inverse<doxid-classsophus_1_1_rx_so2_base_1a963a60ce73142cded4dc5484ef64a6c8>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Tangent<doxid-classsophus_1_1_rx_so2_base_1aa07cadd6d7dcc50f3c012c78e5995198>` :ref:`log<doxid-classsophus_1_1_rx_so2_base_1ad885da926f3218e2bb53ce49363bda2e>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Transformation<doxid-classsophus_1_1_rx_so2_base_1a2c985331dd833ccfc47e2907ea39d30f>` :ref:`matrix<doxid-classsophus_1_1_rx_so2_base_1aceb3a0e1a932273164c6708321a1834d>`() const;
	
		template <class OtherDerivedT>
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` RxSo2Base<DerivedT>& :ref:`operator=<doxid-classsophus_1_1_rx_so2_base_1adc25cd2b7caedf4cee0685963672daef>`(RxSo2Base<OtherDerivedT> const& other);
	
		template <typename OtherDerivedT>
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`RxSo2Product<doxid-classsophus_1_1_rx_so2_base_1aa5aeec1c2ef53f1b00235030d14c285d>`<OtherDerivedT> :ref:`operator*<doxid-classsophus_1_1_rx_so2_base_1a48fcea769b784bd21e5a9ce145acc7b7>`(RxSo2Base<OtherDerivedT> const& other) const;
	
		template <
			typename PointDerivedT,
			typename = typename std::enable_if<IsFixedSizeVector<PointDerivedT, 2>::value>::type
			>
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`PointProduct<doxid-classsophus_1_1_rx_so2_base_1a1af7a36f96f58ce243b76524f6ca5399>`<PointDerivedT> :ref:`operator*<doxid-classsophus_1_1_rx_so2_base_1ad1e52a5e6030204960dc01f418542dee>`(Eigen::MatrixBase<PointDerivedT> const& p) const;
	
		template <
			typename HPointDerivedT,
			typename = typename std::enable_if<IsFixedSizeVector<HPointDerivedT, 3>::value>::type
			>
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`HomogeneousPointProduct<doxid-classsophus_1_1_rx_so2_base_1a186d5e6231ba4234d8685e49f0276be0>`<HPointDerivedT> :ref:`operator*<doxid-classsophus_1_1_rx_so2_base_1a08797461fd18440a92dfed487add6bf8>`(Eigen::MatrixBase<HPointDerivedT> const& p) const;
	
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Line<doxid-classsophus_1_1_rx_so2_base_1aaf518bb4501e1f48b1cb8b3dba16db8e>` :ref:`operator*<doxid-classsophus_1_1_rx_so2_base_1a5996ccaecb91a0049fb6287444c16327>`(:ref:`Line<doxid-classsophus_1_1_rx_so2_base_1aaf518bb4501e1f48b1cb8b3dba16db8e>` const& l) const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Hyperplane<doxid-classsophus_1_1_rx_so2_base_1aa0ae4900530a76921921fc0da1e5f0eb>` :ref:`operator*<doxid-classsophus_1_1_rx_so2_base_1ad37dc18ebd7876615f62f33a8561a512>`(:ref:`Hyperplane<doxid-classsophus_1_1_rx_so2_base_1aa0ae4900530a76921921fc0da1e5f0eb>` const& p) const;
	
		template <
			typename OtherDerivedT,
			typename = typename std::enable_if<std::is_same<Scalar, ReturnScalar<OtherDerivedT>>::value>::type
			>
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` RxSo2Base<DerivedT>& :ref:`operator*=<doxid-classsophus_1_1_rx_so2_base_1affd73e48c3875ff9e1838e1768259f3e>`(RxSo2Base<OtherDerivedT> const& other);
	
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`, :ref:`kNumParameters<doxid-classsophus_1_1_rx_so2_base_1ae7c5315a29ace349b4bf9fe702b67550>`, :ref:`kDoF<doxid-classsophus_1_1_rx_so2_base_1a8a9a9806146892391e912129afa37d7b>`> :ref:`dxThisMulExpXAt0<doxid-classsophus_1_1_rx_so2_base_1aa261c849b2a05919d0855b3e4b4a52be>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`, :ref:`kDoF<doxid-classsophus_1_1_rx_so2_base_1a8a9a9806146892391e912129afa37d7b>`, :ref:`kNumParameters<doxid-classsophus_1_1_rx_so2_base_1ae7c5315a29ace349b4bf9fe702b67550>`> :ref:`dxLogThisInvTimesXAtThis<doxid-classsophus_1_1_rx_so2_base_1acaa89aa1b4856be82c775c777663d252>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Vector<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`, :ref:`kNumParameters<doxid-classsophus_1_1_rx_so2_base_1ae7c5315a29ace349b4bf9fe702b67550>`> :ref:`params<doxid-classsophus_1_1_rx_so2_base_1a678358b5e16d378391af35a66529bbf9>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void :ref:`setComplex<doxid-classsophus_1_1_rx_so2_base_1a18ab24665088e71db0fc843dce5a729f>`(Eigen::Vector2<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`> const& z);
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`ComplexType<doxid-classsophus_1_1_rx_so2_base_1aae5340fa4345fda366fb3157220c67d9>` const& :ref:`complex<doxid-classsophus_1_1_rx_so2_base_1a987873ddfb32ddb967295202f5ff09f4>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Transformation<doxid-classsophus_1_1_rx_so2_base_1a2c985331dd833ccfc47e2907ea39d30f>` :ref:`rotationMatrix<doxid-classsophus_1_1_rx_so2_base_1a728d6c823016b2c62ac3c8497dfec72e>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>` :ref:`scale<doxid-classsophus_1_1_rx_so2_base_1a4fefa661918fe786eafe2ff8a83c479d>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void :ref:`setAngle<doxid-classsophus_1_1_rx_so2_base_1a947c2e863196989da68e70e9abb48afb>`(:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>` const& theta);
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void :ref:`setRotationMatrix<doxid-classsophus_1_1_rx_so2_base_1aa360aab5b081dd89ee62649a336fbb67>`(:ref:`Transformation<doxid-classsophus_1_1_rx_so2_base_1a2c985331dd833ccfc47e2907ea39d30f>` const& mat_r);
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void :ref:`setScale<doxid-classsophus_1_1_rx_so2_base_1af5fdaba190f7bddc13d4eec11f232c55>`(:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>` const& scale);
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void :ref:`setScaledRotationMatrix<doxid-classsophus_1_1_rx_so2_base_1a6c63936c69b3801ae99e0d09392001bf>`(:ref:`Transformation<doxid-classsophus_1_1_rx_so2_base_1a2c985331dd833ccfc47e2907ea39d30f>` const& mat_scaled_rot);
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void :ref:`setSO2<doxid-classsophus_1_1_rx_so2_base_1a207a4e76dd2b13dc926c6ea78b311724>`(:ref:`So2<doxid-classsophus_1_1_so2>`<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`> const& so2);
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`So2<doxid-classsophus_1_1_so2>`<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`> :target:`so2<doxid-classsophus_1_1_rx_so2_base_1ace7cf9b2b5420794d7a35db40a6ad477>`() const;
	};

	// direct descendants

	template <class ScalarT, int kOptions>
	class :ref:`Map<sophus::RxSo2<ScalarT> const, kOptions><doxid-class_eigen_1_1_map_3_01sophus_1_1_rx_so2_3_01_scalar_t_01_4_01const_00_01k_options_01_4>`;

	template <class ScalarT, int kOptions>
	class :ref:`Map<sophus::RxSo2<ScalarT>, kOptions><doxid-class_eigen_1_1_map_3_01sophus_1_1_rx_so2_3_01_scalar_t_01_4_00_01k_options_01_4>`;
.. _details-classsophus_1_1_rx_so2_base:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

:ref:`RxSo2 <doxid-classsophus_1_1_rx_so2>` base type - implements :ref:`RxSo2 <doxid-classsophus_1_1_rx_so2>` class but is storage agnostic.

This class implements the group ``R+ x SO(2)``, the direct product of the group of positive scalar 2x2 matrices (= isomorph to the positive real numbers) and the two-dimensional special orthogonal group SO(2). Geometrically, it is the group of rotation and scaling in two dimensions. As a matrix groups, R+ x SO(2) consists of matrices of the form ``s * R`` where ``R`` is an orthogonal matrix with ``det(R) = 1`` and ``s > 0`` being a positive real number. In particular, it has the following form:

.. code-block:: cpp

	| s * cos(theta)  s * -sin(theta) |
	| s * sin(theta)  s *  cos(theta) |

where ``theta`` being the rotation angle. Internally, it is represented by the first column of the rotation matrix, or in other words by a non-zero complex number.

R+ x SO(2) is not compact, but a commutative group. First it is not compact since the scale factor is not bound. Second it is commutative since ``sR(alpha, s1) * sR(beta, s2) = sR(beta, s2) * sR(alpha, s1)``, simply because ``alpha + beta = beta + alpha`` and ``s1 * s2 = s2 * s1`` with ``alpha`` and ``beta`` being rotation angles and ``s1``, ``s2`` being scale factors.

This class has the explicit class invariant that the scale ``s`` is not too close to either zero or infinity. Strictly speaking, it must hold that:

``:ref:`complex() <doxid-classsophus_1_1_rx_so2_base_1a987873ddfb32ddb967295202f5ff09f4>`.norm() >= Constants::epsilon()`` and ``1. / :ref:`complex() <doxid-classsophus_1_1_rx_so2_base_1a987873ddfb32ddb967295202f5ff09f4>`.norm() >= Constants::epsilon()``.

In order to obey this condition, group multiplication is implemented with saturation such that a product always has a scale which is equal or greater this threshold.

Typedefs
--------

.. index:: pair: typedef; ReturnScalar
.. _doxid-classsophus_1_1_rx_so2_base_1a6a7a856a5f781d78e6b99e08d112bea5:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	using ReturnScalar = typename Eigen::ScalarBinaryOpTraits<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`, typename OtherDerivedT::Scalar>::ReturnType 

For binary operations the return type is determined with the ScalarBinaryOpTraits feature of :ref:`Eigen <doxid-namespace_eigen>`. This allows mixing concrete and Map types, as well as other compatible scalar types such as Ceres::Jet and double scalars with :ref:`RxSo2 <doxid-classsophus_1_1_rx_so2>` operations.

Fields
------

.. index:: pair: variable; kDoF
.. _doxid-classsophus_1_1_rx_so2_base_1a8a9a9806146892391e912129afa37d7b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static constexpr int kDoF = 2

Degrees of freedom of manifold, number of dimensions in tangent space (one for rotation and one for scaling).

.. index:: pair: variable; kNumParameters
.. _doxid-classsophus_1_1_rx_so2_base_1ae7c5315a29ace349b4bf9fe702b67550:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static constexpr int kNumParameters = 2

Number of internal parameters used (complex number is a tuple).

.. index:: pair: variable; kMatrixDim
.. _doxid-classsophus_1_1_rx_so2_base_1a4e292f58368cf88d86f8316dc5e6e41b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static constexpr int kMatrixDim = 2

Group transformations are 2x2 matrices.

.. index:: pair: variable; kPointDim
.. _doxid-classsophus_1_1_rx_so2_base_1a09f077f1096cdb53830639ee556a3a87:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static constexpr int kPointDim = 2

Points are 2-dimensional.

Methods
-------

.. index:: pair: function; adj
.. _doxid-classsophus_1_1_rx_so2_base_1ae561c3c51cf6cf564acff8f4863e9d21:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Adjoint<doxid-classsophus_1_1_rx_so2_base_1a87337a5d2dbf064e00dc800ea1bad57c>` adj() const

Adjoint transformation.

This function return the adjoint transformation ``Ad`` of the group element ``A`` such that for all ``x`` it holds that ``hat(Ad_A * x) = A * hat(x) A^{-1}``. See hat-operator below.

For RxSO(2), it simply returns the identity matrix.

.. index:: pair: function; angle
.. _doxid-classsophus_1_1_rx_so2_base_1aac0fb3a2d4cfc9ac18ac9437882f5047:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>` angle() const

Returns rotation angle.

.. index:: pair: function; cast
.. _doxid-classsophus_1_1_rx_so2_base_1a032fd811fae3d35491986726d9851f95:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class NewScalarTypeT>
	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`RxSo2<doxid-classsophus_1_1_rx_so2>`<NewScalarTypeT> cast() const

Returns copy of instance casted to NewScalarType.

.. index:: pair: function; data
.. _doxid-classsophus_1_1_rx_so2_base_1a0f87a9c5ccad5438214f718bb0a5dcef:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`* data()

This provides unsafe read/write access to internal data. RxSO(2) is represented by a complex number (two parameters). When using direct write access, the user needs to take care of that the complex number is not set close to zero.

Note: The first parameter represents the real part, while the second parameter represent the imaginary part.

.. index:: pair: function; data
.. _doxid-classsophus_1_1_rx_so2_base_1a5a81720da14b38a6ea016f2d5f050727:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>` const* data() const

Const version of :ref:`data() <doxid-classsophus_1_1_rx_so2_base_1a0f87a9c5ccad5438214f718bb0a5dcef>` above.

.. index:: pair: function; inverse
.. _doxid-classsophus_1_1_rx_so2_base_1a963a60ce73142cded4dc5484ef64a6c8:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`RxSo2<doxid-classsophus_1_1_rx_so2>`<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`> inverse() const

Returns group inverse.

.. index:: pair: function; log
.. _doxid-classsophus_1_1_rx_so2_base_1ad885da926f3218e2bb53ce49363bda2e:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Tangent<doxid-classsophus_1_1_rx_so2_base_1aa07cadd6d7dcc50f3c012c78e5995198>` log() const

Logarithmic map.

Computes the logarithm, the inverse of the group exponential which maps element of the group (scaled rotation matrices) to elements of the tangent space (rotation-vector plus logarithm of scale factor).

To be specific, this function computes ``vee(logmat(.))`` with ``logmat(.)`` being the matrix logarithm and ``vee(.)`` the vee-operator of :ref:`RxSo2 <doxid-classsophus_1_1_rx_so2>`.

.. index:: pair: function; matrix
.. _doxid-classsophus_1_1_rx_so2_base_1aceb3a0e1a932273164c6708321a1834d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Transformation<doxid-classsophus_1_1_rx_so2_base_1a2c985331dd833ccfc47e2907ea39d30f>` matrix() const

Returns 2x2 matrix representation of the instance.

For :ref:`RxSo2 <doxid-classsophus_1_1_rx_so2>`, the matrix representation is an scaled orthogonal matrix ``sR`` with ``det(R)=s^2``, thus a scaled rotation matrix ``R`` with scale ``s``.

.. index:: pair: function; operator=
.. _doxid-classsophus_1_1_rx_so2_base_1adc25cd2b7caedf4cee0685963672daef:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class OtherDerivedT>
	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` RxSo2Base<DerivedT>& operator=(RxSo2Base<OtherDerivedT> const& other)

Assignment-like operator from OtherDerived.

.. index:: pair: function; operator*
.. _doxid-classsophus_1_1_rx_so2_base_1a48fcea769b784bd21e5a9ce145acc7b7:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <typename OtherDerivedT>
	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`RxSo2Product<doxid-classsophus_1_1_rx_so2_base_1aa5aeec1c2ef53f1b00235030d14c285d>`<OtherDerivedT> operator*(RxSo2Base<OtherDerivedT> const& other) const

Group multiplication, which is rotation concatenation and scale multiplication.

Note: This function performs saturation for products close to zero in order to ensure the class invariant.

.. index:: pair: function; operator*
.. _doxid-classsophus_1_1_rx_so2_base_1ad1e52a5e6030204960dc01f418542dee:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <
		typename PointDerivedT,
		typename = typename std::enable_if<IsFixedSizeVector<PointDerivedT, 2>::value>::type
		>
	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`PointProduct<doxid-classsophus_1_1_rx_so2_base_1a1af7a36f96f58ce243b76524f6ca5399>`<PointDerivedT> operator*(Eigen::MatrixBase<PointDerivedT> const& p) const

Group action on 2-points.

This function rotates a 2 dimensional point ``p`` by the :ref:`So2 <doxid-classsophus_1_1_so2>` element ``bar_R_foo`` (= rotation matrix) and scales it by the scale factor ``s`` :

``p_bar = s * (bar_R_foo * p_foo)``.

.. index:: pair: function; operator*
.. _doxid-classsophus_1_1_rx_so2_base_1a08797461fd18440a92dfed487add6bf8:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <
		typename HPointDerivedT,
		typename = typename std::enable_if<IsFixedSizeVector<HPointDerivedT, 3>::value>::type
		>
	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`HomogeneousPointProduct<doxid-classsophus_1_1_rx_so2_base_1a186d5e6231ba4234d8685e49f0276be0>`<HPointDerivedT> operator*(Eigen::MatrixBase<HPointDerivedT> const& p) const

Group action on homogeneous 2-points. See above for more details.

.. index:: pair: function; operator*
.. _doxid-classsophus_1_1_rx_so2_base_1a5996ccaecb91a0049fb6287444c16327:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Line<doxid-classsophus_1_1_rx_so2_base_1aaf518bb4501e1f48b1cb8b3dba16db8e>` operator*(:ref:`Line<doxid-classsophus_1_1_rx_so2_base_1aaf518bb4501e1f48b1cb8b3dba16db8e>` const& l) const

Group action on lines.

This function rotates a parameterized line ``l(t) = o + t * d`` by the :ref:`So2 <doxid-classsophus_1_1_so2>` element and scales it by the scale factor

Origin ``o`` is rotated and scaled Direction ``d`` is rotated (preserving it's norm)

.. index:: pair: function; operator*
.. _doxid-classsophus_1_1_rx_so2_base_1ad37dc18ebd7876615f62f33a8561a512:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Hyperplane<doxid-classsophus_1_1_rx_so2_base_1aa0ae4900530a76921921fc0da1e5f0eb>` operator*(:ref:`Hyperplane<doxid-classsophus_1_1_rx_so2_base_1aa0ae4900530a76921921fc0da1e5f0eb>` const& p) const

Group action on hyper-planes.

This function rotates a hyper-plane ``n.x + d = 0`` by the :ref:`So2 <doxid-classsophus_1_1_so2>` element and scales offset by the scale factor

Normal vector ``n`` is rotated Offset ``d`` is scaled

Note that in 2d-case hyper-planes are just another parametrization of lines

.. index:: pair: function; operator*=
.. _doxid-classsophus_1_1_rx_so2_base_1affd73e48c3875ff9e1838e1768259f3e:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <
		typename OtherDerivedT,
		typename = typename std::enable_if<std::is_same<Scalar, ReturnScalar<OtherDerivedT>>::value>::type
		>
	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` RxSo2Base<DerivedT>& operator*=(RxSo2Base<OtherDerivedT> const& other)

In-place group multiplication. This method is only valid if the return type of the multiplication is compatible with this :ref:`So2 <doxid-classsophus_1_1_so2>` 's Scalar type.

Note: This function performs saturation for products close to zero in order to ensure the class invariant.

.. index:: pair: function; dxThisMulExpXAt0
.. _doxid-classsophus_1_1_rx_so2_base_1aa261c849b2a05919d0855b3e4b4a52be:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`, :ref:`kNumParameters<doxid-classsophus_1_1_rx_so2_base_1ae7c5315a29ace349b4bf9fe702b67550>`, :ref:`kDoF<doxid-classsophus_1_1_rx_so2_base_1a8a9a9806146892391e912129afa37d7b>`> dxThisMulExpXAt0() const

Returns derivative of this \* RxSo2::exp(x) wrt. x at x=0.

.. index:: pair: function; dxLogThisInvTimesXAtThis
.. _doxid-classsophus_1_1_rx_so2_base_1acaa89aa1b4856be82c775c777663d252:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`, :ref:`kDoF<doxid-classsophus_1_1_rx_so2_base_1a8a9a9806146892391e912129afa37d7b>`, :ref:`kNumParameters<doxid-classsophus_1_1_rx_so2_base_1ae7c5315a29ace349b4bf9fe702b67550>`> dxLogThisInvTimesXAtThis() const

Returns derivative of log(this^{-1} \* x) by x at x=this.

.. index:: pair: function; params
.. _doxid-classsophus_1_1_rx_so2_base_1a678358b5e16d378391af35a66529bbf9:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Vector<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`, :ref:`kNumParameters<doxid-classsophus_1_1_rx_so2_base_1ae7c5315a29ace349b4bf9fe702b67550>`> params() const

Returns internal parameters of RxSO(2).

It returns (c[0], c[1]), with c being the complex number.

.. index:: pair: function; setComplex
.. _doxid-classsophus_1_1_rx_so2_base_1a18ab24665088e71db0fc843dce5a729f:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void setComplex(Eigen::Vector2<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`> const& z)

Sets non-zero complex.

Precondition: ``z`` must not be close to either zero or infinity.

.. index:: pair: function; complex
.. _doxid-classsophus_1_1_rx_so2_base_1a987873ddfb32ddb967295202f5ff09f4:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`ComplexType<doxid-classsophus_1_1_rx_so2_base_1aae5340fa4345fda366fb3157220c67d9>` const& complex() const

Accessor of complex.

.. index:: pair: function; rotationMatrix
.. _doxid-classsophus_1_1_rx_so2_base_1a728d6c823016b2c62ac3c8497dfec72e:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Transformation<doxid-classsophus_1_1_rx_so2_base_1a2c985331dd833ccfc47e2907ea39d30f>` rotationMatrix() const

Returns rotation matrix.

.. index:: pair: function; scale
.. _doxid-classsophus_1_1_rx_so2_base_1a4fefa661918fe786eafe2ff8a83c479d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>` scale() const

Returns scale.

.. index:: pair: function; setAngle
.. _doxid-classsophus_1_1_rx_so2_base_1a947c2e863196989da68e70e9abb48afb:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void setAngle(:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>` const& theta)

Setter of rotation angle, leaves scale as is.

.. index:: pair: function; setRotationMatrix
.. _doxid-classsophus_1_1_rx_so2_base_1aa360aab5b081dd89ee62649a336fbb67:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void setRotationMatrix(:ref:`Transformation<doxid-classsophus_1_1_rx_so2_base_1a2c985331dd833ccfc47e2907ea39d30f>` const& mat_r)

Setter of complex using rotation matrix ``R``, leaves scale as is.

Precondition: ``R`` must be orthogonal with determinant of one.

.. index:: pair: function; setScale
.. _doxid-classsophus_1_1_rx_so2_base_1af5fdaba190f7bddc13d4eec11f232c55:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void setScale(:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>` const& scale)

Sets scale and leaves rotation as is.

.. index:: pair: function; setScaledRotationMatrix
.. _doxid-classsophus_1_1_rx_so2_base_1a6c63936c69b3801ae99e0d09392001bf:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void setScaledRotationMatrix(:ref:`Transformation<doxid-classsophus_1_1_rx_so2_base_1a2c985331dd833ccfc47e2907ea39d30f>` const& mat_scaled_rot)

Setter of complex number using scaled rotation matrix ``sR``.

Precondition: The 2x2 matrix must be "scaled orthogonal" and have a positive determinant.

.. index:: pair: function; setSO2
.. _doxid-classsophus_1_1_rx_so2_base_1a207a4e76dd2b13dc926c6ea78b311724:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void setSO2(:ref:`So2<doxid-classsophus_1_1_so2>`<:ref:`Scalar<doxid-classsophus_1_1_rx_so2_base_1ae7b60c96190a956a812dc9427baba189>`> const& so2)

Setter of SO(2) rotations, leaves scale as is.

