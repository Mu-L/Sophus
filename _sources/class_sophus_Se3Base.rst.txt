.. index:: pair: class; sophus::Se3Base
.. _doxid-classsophus_1_1_se3_base:

template class sophus::Se3Base
==============================

.. toctree::
	:hidden:

Overview
~~~~~~~~

:ref:`Se3 <doxid-classsophus_1_1_se3>` base type - implements :ref:`Se3 <doxid-classsophus_1_1_se3>` class but is storage agnostic. :ref:`More...<details-classsophus_1_1_se3_base>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <se3.h>
	
	template <class DerivedT>
	class Se3Base {
	public:
		// typedefs
	
		using :target:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>` = typename Eigen::internal::traits<DerivedT>:::ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>` ;
		using :target:`TranslationType<doxid-classsophus_1_1_se3_base_1a1d6bddfa50599d002b71aa67eb2b8d38>` = typename Eigen::internal::traits<DerivedT>:::ref:`TranslationType<doxid-classsophus_1_1_se3_base_1a1d6bddfa50599d002b71aa67eb2b8d38>` ;
		using :target:`SO3Type<doxid-classsophus_1_1_se3_base_1a4e1b73b97c4b77a94410a39a48d8aab8>` = typename Eigen::internal::traits<DerivedT>:::ref:`SO3Type<doxid-classsophus_1_1_se3_base_1a4e1b73b97c4b77a94410a39a48d8aab8>` ;
		using :target:`QuaternionType<doxid-classsophus_1_1_se3_base_1afdfe050a1ece2cfa4fce79b6ad90787d>` = typename SO3Type::QuaternionType ;
		using :target:`Transformation<doxid-classsophus_1_1_se3_base_1a40b919a6bd7456cf7f924edfe7be2c7e>` = Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`, :ref:`kMatrixDim<doxid-classsophus_1_1_se3_base_1a4e878285b91fa1b08237924b9062a0cd>`, :ref:`kMatrixDim<doxid-classsophus_1_1_se3_base_1a4e878285b91fa1b08237924b9062a0cd>`> ;
		using :target:`Point<doxid-classsophus_1_1_se3_base_1a764b2bb58b7b139b3ef68f0a8195aa5a>` = Eigen::Vector3<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`> ;
		using :target:`HomogeneousPoint<doxid-classsophus_1_1_se3_base_1a4498cd879914188b9ca60e15cf536496>` = Eigen::Vector4<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`> ;
		using :target:`Line<doxid-classsophus_1_1_se3_base_1ac4888a9d9d033045388a7bb79a312935>` = Eigen::ParametrizedLine<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`, 3> ;
		using :target:`Hyperplane<doxid-classsophus_1_1_se3_base_1a7cf1f610f925dd19e2a10487bc9f5845>` = Eigen::Hyperplane<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`, 3> ;
		using :target:`Tangent<doxid-classsophus_1_1_se3_base_1a215c40274fb3d3e315be08e7555f3556>` = Eigen::Vector<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`, :ref:`kDoF<doxid-classsophus_1_1_se3_base_1a2b0e1ed2fbb141d22d48bbd50a880a4c>`> ;
		using :target:`Adjoint<doxid-classsophus_1_1_se3_base_1a9262b524d5610f651f69d5a7ee316e7e>` = Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`, :ref:`kDoF<doxid-classsophus_1_1_se3_base_1a2b0e1ed2fbb141d22d48bbd50a880a4c>`, :ref:`kDoF<doxid-classsophus_1_1_se3_base_1a2b0e1ed2fbb141d22d48bbd50a880a4c>`> ;
		using :ref:`ReturnScalar<doxid-classsophus_1_1_se3_base_1abb39d323305ebf113e5ebf653a9604b6>` = typename Eigen::ScalarBinaryOpTraits<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`, typename OtherDerivedT::Scalar>::ReturnType ;
		using :target:`Se3Product<doxid-classsophus_1_1_se3_base_1a80aeea273b61fec92e239696fb6050dc>` = :ref:`Se3<doxid-classsophus_1_1_se3>`<:ref:`ReturnScalar<doxid-classsophus_1_1_se3_base_1abb39d323305ebf113e5ebf653a9604b6>`<OtherDerivedT>> ;
		using :target:`PointProduct<doxid-classsophus_1_1_se3_base_1a812943c8cb6b2bbdfdb6adc2d46055c9>` = Eigen::Vector3<:ref:`ReturnScalar<doxid-classsophus_1_1_se3_base_1abb39d323305ebf113e5ebf653a9604b6>`<PointDerivedT>> ;
		using :target:`HomogeneousPointProduct<doxid-classsophus_1_1_se3_base_1a643a2d5ec2180928f966b5ac66e73427>` = Eigen::Vector4<:ref:`ReturnScalar<doxid-classsophus_1_1_se3_base_1abb39d323305ebf113e5ebf653a9604b6>`<HPointDerivedT>> ;

		// fields
	
		static constexpr int :ref:`kDoF<doxid-classsophus_1_1_se3_base_1a2b0e1ed2fbb141d22d48bbd50a880a4c>` = 6;
		static constexpr int :ref:`kNumParameters<doxid-classsophus_1_1_se3_base_1a2f6af5c2e05a872d55e7a1e346656e8e>` = 7;
		static constexpr int :ref:`kMatrixDim<doxid-classsophus_1_1_se3_base_1a4e878285b91fa1b08237924b9062a0cd>` = 4;
		static constexpr int :ref:`kPointDim<doxid-classsophus_1_1_se3_base_1a2efb705ba450fb12884fdc57d95dd97e>` = 3;

		// methods
	
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Adjoint<doxid-classsophus_1_1_se3_base_1a9262b524d5610f651f69d5a7ee316e7e>` :ref:`adj<doxid-classsophus_1_1_se3_base_1ae31f36e032d68a236396e5b6aae455cb>`() const;
		:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>` :ref:`angleX<doxid-classsophus_1_1_se3_base_1a5fc193b4f245ba8b4de1bc5f32a42741>`() const;
		:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>` :ref:`angleY<doxid-classsophus_1_1_se3_base_1a96a9e0ad17a633dff43de38068ba485b>`() const;
		:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>` :ref:`angleZ<doxid-classsophus_1_1_se3_base_1a44ab374fe27a61d85251fb0a33efd1a0>`() const;
	
		template <class NewScalarTypeT>
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Se3<doxid-classsophus_1_1_se3>`<NewScalarTypeT> :ref:`cast<doxid-classsophus_1_1_se3_base_1a6db12f429e12bfa594863ad8d93b01de>`() const;
	
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`, :ref:`kNumParameters<doxid-classsophus_1_1_se3_base_1a2f6af5c2e05a872d55e7a1e346656e8e>`, :ref:`kDoF<doxid-classsophus_1_1_se3_base_1a2b0e1ed2fbb141d22d48bbd50a880a4c>`> :ref:`dxThisMulExpXAt0<doxid-classsophus_1_1_se3_base_1af4ca6d26ae80f31651441a1601a371d5>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`, :ref:`kDoF<doxid-classsophus_1_1_se3_base_1a2b0e1ed2fbb141d22d48bbd50a880a4c>`, :ref:`kNumParameters<doxid-classsophus_1_1_se3_base_1a2f6af5c2e05a872d55e7a1e346656e8e>`> :ref:`dxLogThisInvTimesXAtThis<doxid-classsophus_1_1_se3_base_1ab39f5aeb52506d42222d7e422acaafff>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Se3<doxid-classsophus_1_1_se3>`<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`> :ref:`inverse<doxid-classsophus_1_1_se3_base_1a9b4c2a736e2d168d8a0d8b26b60b8663>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Tangent<doxid-classsophus_1_1_se3_base_1a215c40274fb3d3e315be08e7555f3556>` :ref:`log<doxid-classsophus_1_1_se3_base_1a3f5dad05dea06292bc945fbbe4f2e8b5>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void :ref:`normalize<doxid-classsophus_1_1_se3_base_1a39c84f7104b74692592fdd4b411c8e89>`();
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Transformation<doxid-classsophus_1_1_se3_base_1a40b919a6bd7456cf7f924edfe7be2c7e>` :ref:`matrix<doxid-classsophus_1_1_se3_base_1aea55777d27420dee43fc20dc1f1f3c58>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`, 3, 4> :ref:`matrix3x4<doxid-classsophus_1_1_se3_base_1ab727057763f5efdaebebc92dc49fc0a6>`() const;
	
		template <class OtherDerivedT>
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Se3Base<DerivedT>& :ref:`operator=<doxid-classsophus_1_1_se3_base_1a8bbab219167fe86ac705bb4eb92396ae>`(Se3Base<OtherDerivedT> const& other);
	
		template <typename OtherDerivedT>
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Se3Product<doxid-classsophus_1_1_se3_base_1a80aeea273b61fec92e239696fb6050dc>`<OtherDerivedT> :ref:`operator*<doxid-classsophus_1_1_se3_base_1a54487cb9a5026b71d7d5cd181baf2a75>`(Se3Base<OtherDerivedT> const& other) const;
	
		template <
			typename PointDerivedT,
			typename = typename std::enable_if<IsFixedSizeVector<PointDerivedT, 3>::value>::type
			>
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`PointProduct<doxid-classsophus_1_1_se3_base_1a812943c8cb6b2bbdfdb6adc2d46055c9>`<PointDerivedT> :ref:`operator*<doxid-classsophus_1_1_se3_base_1a5551158df7e2869751beabd056506b36>`(Eigen::MatrixBase<PointDerivedT> const& p) const;
	
		template <
			typename HPointDerivedT,
			typename = typename std::enable_if<IsFixedSizeVector<HPointDerivedT, 4>::value>::type
			>
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`HomogeneousPointProduct<doxid-classsophus_1_1_se3_base_1a643a2d5ec2180928f966b5ac66e73427>`<HPointDerivedT> :ref:`operator*<doxid-classsophus_1_1_se3_base_1aea61150396b72bf71fd02e29025df7e9>`(Eigen::MatrixBase<HPointDerivedT> const& p) const;
	
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Line<doxid-classsophus_1_1_se3_base_1ac4888a9d9d033045388a7bb79a312935>` :ref:`operator*<doxid-classsophus_1_1_se3_base_1ab2870f0d558b247b2a62839d1cb50012>`(:ref:`Line<doxid-classsophus_1_1_se3_base_1ac4888a9d9d033045388a7bb79a312935>` const& l) const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Hyperplane<doxid-classsophus_1_1_se3_base_1a7cf1f610f925dd19e2a10487bc9f5845>` :ref:`operator*<doxid-classsophus_1_1_se3_base_1a9b6340a5cdf33291acf051c8adab10b4>`(:ref:`Hyperplane<doxid-classsophus_1_1_se3_base_1a7cf1f610f925dd19e2a10487bc9f5845>` const& p) const;
	
		template <
			typename OtherDerivedT,
			typename = typename std::enable_if<std::is_same<Scalar, ReturnScalar<OtherDerivedT>>::value>::type
			>
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Se3Base<DerivedT>& :ref:`operator*=<doxid-classsophus_1_1_se3_base_1a2724816ae370358a7522e8a307a8f53f>`(Se3Base<OtherDerivedT> const& other);
	
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix3<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`> :ref:`rotationMatrix<doxid-classsophus_1_1_se3_base_1a8621e35167891cd02eb0a07b3094712b>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`SO3Type<doxid-classsophus_1_1_se3_base_1a4e1b73b97c4b77a94410a39a48d8aab8>`& :ref:`so3<doxid-classsophus_1_1_se3_base_1a7b54fda49cbcc202a46f773b79324380>`();
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`SO3Type<doxid-classsophus_1_1_se3_base_1a4e1b73b97c4b77a94410a39a48d8aab8>` const& :ref:`so3<doxid-classsophus_1_1_se3_base_1aa31f309f116c72745ac7aaed6d77a2d4>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void :ref:`setQuaternion<doxid-classsophus_1_1_se3_base_1aaa35d79e27dbad404a98edcb5ff86e10>`(Eigen::Quaternion<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`> const& quat);
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void :ref:`setRotationMatrix<doxid-classsophus_1_1_se3_base_1aeeec833f98736d8d1cd402860caf2c5c>`(Eigen::Matrix3<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`> const& mat_r);
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Vector<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`, :ref:`kNumParameters<doxid-classsophus_1_1_se3_base_1a2f6af5c2e05a872d55e7a1e346656e8e>`> :ref:`params<doxid-classsophus_1_1_se3_base_1a430b6e97d30de55e0c5e8e7cd1347a66>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`TranslationType<doxid-classsophus_1_1_se3_base_1a1d6bddfa50599d002b71aa67eb2b8d38>`& :ref:`translation<doxid-classsophus_1_1_se3_base_1a2ddf5c2de627b0f632e253b37229021c>`();
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`TranslationType<doxid-classsophus_1_1_se3_base_1a1d6bddfa50599d002b71aa67eb2b8d38>` const& :ref:`translation<doxid-classsophus_1_1_se3_base_1ae52f1334e4073f028c03a121e58e33d2>`() const;
		:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`QuaternionType<doxid-classsophus_1_1_se3_base_1afdfe050a1ece2cfa4fce79b6ad90787d>` const& :ref:`unitQuaternion<doxid-classsophus_1_1_se3_base_1ad95fd83f933c71d0d589e08f7145fec3>`() const;
	};

	// direct descendants

	template <class ScalarT, int kOptions>
	class :ref:`Map<sophus::Se3<ScalarT> const, kOptions><doxid-class_eigen_1_1_map_3_01sophus_1_1_se3_3_01_scalar_t_01_4_01const_00_01k_options_01_4>`;

	template <class ScalarT, int kOptions>
	class :ref:`Map<sophus::Se3<ScalarT>, kOptions><doxid-class_eigen_1_1_map_3_01sophus_1_1_se3_3_01_scalar_t_01_4_00_01k_options_01_4>`;
.. _details-classsophus_1_1_se3_base:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

:ref:`Se3 <doxid-classsophus_1_1_se3>` base type - implements :ref:`Se3 <doxid-classsophus_1_1_se3>` class but is storage agnostic.

SE(3) is the group of rotations and translation in 3d. It is the semi-direct product of SO(3) and the 3d Euclidean vector space. The class is represented using a composition of :ref:`So3 <doxid-classsophus_1_1_so3>` for rotation and a one 3-vector for translation.

SE(3) is neither compact, nor a commutative group.

* 4x4 Eigen::Matrix representation:

.. ref-code-block:: cpp

	| R t |
	| o 1 |

where ``R`` is a 3x3 rotation matrix, ``t`` a translation 3-vector and ``o`` a 3-column vector of zeros.

* Tangent 6-vector: [upsilon, omega],

where ``upsilon`` is the translational velocity 3-vector and ``omega`` the rotational velocity 3-vector.

* Internal 7-representation: [t0, t1, t2, qi0, qi1, qi2, qr],

with ``t0, t1, t2`` are the translational components, and ``qi0, qi1, q2`` the imaginary vector part and ``qr1`` the real part of a unit-length quaternion.

See :ref:`So3 <doxid-classsophus_1_1_so3>` for more details of the rotation representation in 3d.

Typedefs
--------

.. index:: pair: typedef; ReturnScalar
.. _doxid-classsophus_1_1_se3_base_1abb39d323305ebf113e5ebf653a9604b6:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	using ReturnScalar = typename Eigen::ScalarBinaryOpTraits<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`, typename OtherDerivedT::Scalar>::ReturnType 

For binary operations the return type is determined with the ScalarBinaryOpTraits feature of :ref:`Eigen <doxid-namespace_eigen>`. This allows mixing concrete and Map types, as well as other compatible scalar types such as Ceres::Jet and double scalars with :ref:`Se3 <doxid-classsophus_1_1_se3>` operations.

Fields
------

.. index:: pair: variable; kDoF
.. _doxid-classsophus_1_1_se3_base_1a2b0e1ed2fbb141d22d48bbd50a880a4c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static constexpr int kDoF = 6

Degrees of freedom of manifold, number of dimensions in tangent space (three for translation, three for rotation).

.. index:: pair: variable; kNumParameters
.. _doxid-classsophus_1_1_se3_base_1a2f6af5c2e05a872d55e7a1e346656e8e:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static constexpr int kNumParameters = 7

Number of internal parameters used (4-tuple for quaternion, three for translation).

.. index:: pair: variable; kMatrixDim
.. _doxid-classsophus_1_1_se3_base_1a4e878285b91fa1b08237924b9062a0cd:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static constexpr int kMatrixDim = 4

Group transformations are 4x4 matrices.

.. index:: pair: variable; kPointDim
.. _doxid-classsophus_1_1_se3_base_1a2efb705ba450fb12884fdc57d95dd97e:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static constexpr int kPointDim = 3

Points are 3-dimensional.

Methods
-------

.. index:: pair: function; adj
.. _doxid-classsophus_1_1_se3_base_1ae31f36e032d68a236396e5b6aae455cb:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Adjoint<doxid-classsophus_1_1_se3_base_1a9262b524d5610f651f69d5a7ee316e7e>` adj() const

Adjoint transformation.

This function return the adjoint transformation ``Ad`` of the group element ``A`` such that for all ``x`` it holds that ``hat(Ad_A * x) = A * hat(x) A^{-1}``. See hat-operator below.

.. index:: pair: function; angleX
.. _doxid-classsophus_1_1_se3_base_1a5fc193b4f245ba8b4de1bc5f32a42741:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>` angleX() const

Extract rotation angle about canonical X-axis.

.. index:: pair: function; angleY
.. _doxid-classsophus_1_1_se3_base_1a96a9e0ad17a633dff43de38068ba485b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>` angleY() const

Extract rotation angle about canonical Y-axis.

.. index:: pair: function; angleZ
.. _doxid-classsophus_1_1_se3_base_1a44ab374fe27a61d85251fb0a33efd1a0:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>` angleZ() const

Extract rotation angle about canonical Z-axis.

.. index:: pair: function; cast
.. _doxid-classsophus_1_1_se3_base_1a6db12f429e12bfa594863ad8d93b01de:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class NewScalarTypeT>
	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Se3<doxid-classsophus_1_1_se3>`<NewScalarTypeT> cast() const

Returns copy of instance casted to NewScalarType.

.. index:: pair: function; dxThisMulExpXAt0
.. _doxid-classsophus_1_1_se3_base_1af4ca6d26ae80f31651441a1601a371d5:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`, :ref:`kNumParameters<doxid-classsophus_1_1_se3_base_1a2f6af5c2e05a872d55e7a1e346656e8e>`, :ref:`kDoF<doxid-classsophus_1_1_se3_base_1a2b0e1ed2fbb141d22d48bbd50a880a4c>`> dxThisMulExpXAt0() const

Returns derivative of this \* exp(x) wrt x at x=0.

.. index:: pair: function; dxLogThisInvTimesXAtThis
.. _doxid-classsophus_1_1_se3_base_1ab39f5aeb52506d42222d7e422acaafff:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`, :ref:`kDoF<doxid-classsophus_1_1_se3_base_1a2b0e1ed2fbb141d22d48bbd50a880a4c>`, :ref:`kNumParameters<doxid-classsophus_1_1_se3_base_1a2f6af5c2e05a872d55e7a1e346656e8e>`> dxLogThisInvTimesXAtThis() const

Returns derivative of log(this^{-1} \* x) by x at x=this.

.. index:: pair: function; inverse
.. _doxid-classsophus_1_1_se3_base_1a9b4c2a736e2d168d8a0d8b26b60b8663:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Se3<doxid-classsophus_1_1_se3>`<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`> inverse() const

Returns group inverse.

.. index:: pair: function; log
.. _doxid-classsophus_1_1_se3_base_1a3f5dad05dea06292bc945fbbe4f2e8b5:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Tangent<doxid-classsophus_1_1_se3_base_1a215c40274fb3d3e315be08e7555f3556>` log() const

Logarithmic map.

Computes the logarithm, the inverse of the group exponential which maps element of the group (rigid body transformations) to elements of the tangent space (twist).

To be specific, this function computes ``vee(logmat(.))`` with ``logmat(.)`` being the matrix logarithm and ``vee(.)`` the vee-operator of SE(3).

.. index:: pair: function; normalize
.. _doxid-classsophus_1_1_se3_base_1a39c84f7104b74692592fdd4b411c8e89:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void normalize()

It re-normalizes the :ref:`So3 <doxid-classsophus_1_1_so3>` element.

Note: Because of the class invariant of :ref:`So3 <doxid-classsophus_1_1_so3>`, there is typically no need to call this function directly.

.. index:: pair: function; matrix
.. _doxid-classsophus_1_1_se3_base_1aea55777d27420dee43fc20dc1f1f3c58:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Transformation<doxid-classsophus_1_1_se3_base_1a40b919a6bd7456cf7f924edfe7be2c7e>` matrix() const

Returns 4x4 matrix representation of the instance.

It has the following form:

.. ref-code-block:: cpp

	| R t |
	| o 1 |

where ``R`` is a 3x3 rotation matrix, ``t`` a translation 3-vector and ``o`` a 3-column vector of zeros.

.. index:: pair: function; matrix3x4
.. _doxid-classsophus_1_1_se3_base_1ab727057763f5efdaebebc92dc49fc0a6:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`, 3, 4> matrix3x4() const

Returns the significant first three rows of the matrix above.

.. index:: pair: function; operator=
.. _doxid-classsophus_1_1_se3_base_1a8bbab219167fe86ac705bb4eb92396ae:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class OtherDerivedT>
	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Se3Base<DerivedT>& operator=(Se3Base<OtherDerivedT> const& other)

Assignment-like operator from OtherDerived.

.. index:: pair: function; operator*
.. _doxid-classsophus_1_1_se3_base_1a54487cb9a5026b71d7d5cd181baf2a75:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <typename OtherDerivedT>
	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Se3Product<doxid-classsophus_1_1_se3_base_1a80aeea273b61fec92e239696fb6050dc>`<OtherDerivedT> operator*(Se3Base<OtherDerivedT> const& other) const

Group multiplication, which is rotation concatenation.

.. index:: pair: function; operator*
.. _doxid-classsophus_1_1_se3_base_1a5551158df7e2869751beabd056506b36:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <
		typename PointDerivedT,
		typename = typename std::enable_if<IsFixedSizeVector<PointDerivedT, 3>::value>::type
		>
	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`PointProduct<doxid-classsophus_1_1_se3_base_1a812943c8cb6b2bbdfdb6adc2d46055c9>`<PointDerivedT> operator*(Eigen::MatrixBase<PointDerivedT> const& p) const

Group action on 3-points.

This function rotates and translates a three dimensional point ``p`` by the SE(3) element ``bar_transform_foo = (bar_R_foo, t_bar)`` (= rigid body transformation):

``p_bar = bar_R_foo * p_foo + t_bar``.

.. index:: pair: function; operator*
.. _doxid-classsophus_1_1_se3_base_1aea61150396b72bf71fd02e29025df7e9:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <
		typename HPointDerivedT,
		typename = typename std::enable_if<IsFixedSizeVector<HPointDerivedT, 4>::value>::type
		>
	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`HomogeneousPointProduct<doxid-classsophus_1_1_se3_base_1a643a2d5ec2180928f966b5ac66e73427>`<HPointDerivedT> operator*(Eigen::MatrixBase<HPointDerivedT> const& p) const

Group action on homogeneous 3-points. See above for more details.

.. index:: pair: function; operator*
.. _doxid-classsophus_1_1_se3_base_1ab2870f0d558b247b2a62839d1cb50012:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Line<doxid-classsophus_1_1_se3_base_1ac4888a9d9d033045388a7bb79a312935>` operator*(:ref:`Line<doxid-classsophus_1_1_se3_base_1ac4888a9d9d033045388a7bb79a312935>` const& l) const

Group action on lines.

This function rotates and translates a parametrized line ``l(t) = o + t * d`` by the SE(3) element:

Origin is transformed using SE(3) action Direction is transformed using rotation part

.. index:: pair: function; operator*
.. _doxid-classsophus_1_1_se3_base_1a9b6340a5cdf33291acf051c8adab10b4:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`Hyperplane<doxid-classsophus_1_1_se3_base_1a7cf1f610f925dd19e2a10487bc9f5845>` operator*(:ref:`Hyperplane<doxid-classsophus_1_1_se3_base_1a7cf1f610f925dd19e2a10487bc9f5845>` const& p) const

Group action on planes.

This function rotates and translates a plane ``n.x + d = 0`` by the SE(3) element:

Normal vector ``n`` is rotated Offset ``d`` is adjusted for translation

.. index:: pair: function; operator*=
.. _doxid-classsophus_1_1_se3_base_1a2724816ae370358a7522e8a307a8f53f:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <
		typename OtherDerivedT,
		typename = typename std::enable_if<std::is_same<Scalar, ReturnScalar<OtherDerivedT>>::value>::type
		>
	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Se3Base<DerivedT>& operator*=(Se3Base<OtherDerivedT> const& other)

In-place group multiplication. This method is only valid if the return type of the multiplication is compatible with this :ref:`Se3 <doxid-classsophus_1_1_se3>` 's Scalar type.

.. index:: pair: function; rotationMatrix
.. _doxid-classsophus_1_1_se3_base_1a8621e35167891cd02eb0a07b3094712b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Matrix3<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`> rotationMatrix() const

Returns rotation matrix.

.. index:: pair: function; so3
.. _doxid-classsophus_1_1_se3_base_1a7b54fda49cbcc202a46f773b79324380:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`SO3Type<doxid-classsophus_1_1_se3_base_1a4e1b73b97c4b77a94410a39a48d8aab8>`& so3()

Mutator of :ref:`So3 <doxid-classsophus_1_1_so3>` group.

.. index:: pair: function; so3
.. _doxid-classsophus_1_1_se3_base_1aa31f309f116c72745ac7aaed6d77a2d4:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`SO3Type<doxid-classsophus_1_1_se3_base_1a4e1b73b97c4b77a94410a39a48d8aab8>` const& so3() const

Accessor of :ref:`So3 <doxid-classsophus_1_1_so3>` group.

.. index:: pair: function; setQuaternion
.. _doxid-classsophus_1_1_se3_base_1aaa35d79e27dbad404a98edcb5ff86e10:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void setQuaternion(Eigen::Quaternion<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`> const& quat)

Takes in quaternion, and normalizes it.

Precondition: The quaternion must not be close to zero.

.. index:: pair: function; setRotationMatrix
.. _doxid-classsophus_1_1_se3_base_1aeeec833f98736d8d1cd402860caf2c5c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` void setRotationMatrix(Eigen::Matrix3<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`> const& mat_r)

Sets ``so3`` using ``rotation_matrix``.

Precondition: ``R`` must be orthogonal and ``det(R)=1``.

*

.. index:: pair: function; params
.. _doxid-classsophus_1_1_se3_base_1a430b6e97d30de55e0c5e8e7cd1347a66:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` Eigen::Vector<:ref:`Scalar<doxid-classsophus_1_1_se3_base_1a6fcdcf1c8f67af099ae6ba90b76d30a6>`, :ref:`kNumParameters<doxid-classsophus_1_1_se3_base_1a2f6af5c2e05a872d55e7a1e346656e8e>`> params() const

Returns internal parameters of SE(3).

It returns (q.imag[0], q.imag[1], q.imag[2], q.real, t[0], t[1], t[2]), with q being the unit quaternion, t the translation 3-vector.

.. index:: pair: function; translation
.. _doxid-classsophus_1_1_se3_base_1a2ddf5c2de627b0f632e253b37229021c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`TranslationType<doxid-classsophus_1_1_se3_base_1a1d6bddfa50599d002b71aa67eb2b8d38>`& translation()

Mutator of translation vector.

.. index:: pair: function; translation
.. _doxid-classsophus_1_1_se3_base_1ae52f1334e4073f028c03a121e58e33d2:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`TranslationType<doxid-classsophus_1_1_se3_base_1a1d6bddfa50599d002b71aa67eb2b8d38>` const& translation() const

Accessor of translation vector.

.. index:: pair: function; unitQuaternion
.. _doxid-classsophus_1_1_se3_base_1ad95fd83f933c71d0d589e08f7145fec3:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SOPHUS_FUNC<doxid-common_8h_1a719070c34a48abcdf2f623e4160b4c28>` :ref:`QuaternionType<doxid-classsophus_1_1_se3_base_1afdfe050a1ece2cfa4fce79b6ad90787d>` const& unitQuaternion() const

Accessor of unit quaternion.

